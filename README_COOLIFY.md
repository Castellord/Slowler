# SETINA Slowdown App - Coolify Deployment Guide

## üöÄ –î–µ–ø–ª–æ–π –≤ Coolify

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –¥–ª—è –¥–µ–ø–ª–æ—è –≤ Coolify —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Docker Compose.

### üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Coolify —Å–µ—Ä–≤–µ—Ä —Å Docker –∏ Docker Compose
- –ú–∏–Ω–∏–º—É–º 2GB RAM –¥–ª—è backend –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Coolify

1. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞**
   - –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å Coolify
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
   - –í—ã–±–µ—Ä–∏—Ç–µ "Docker Compose" –∫–∞–∫ —Ç–∏–ø –¥–µ–ø–ª–æ—è

2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
   ```
   Repository URL: https://github.com/Castellord/Slowler.git
   Branch: main
   ```

3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `docker-compose.yaml` –∫–∞–∫ –æ—Å–Ω–æ–≤—É
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `coolify.yaml` –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ    Backend       ‚îÇ
‚îÇ   (React+Nginx) ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Python+Flask) ‚îÇ
‚îÇ   Port: 80      ‚îÇ    ‚îÇ   Port: 5230     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üì¶ –°–µ—Ä–≤–∏—Å—ã

#### Frontend
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: React, Nginx
- **–ü–æ—Ä—Ç**: 80
- **–§—É–Ω–∫—Ü–∏–∏**: 
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–¥–∞—á–∞ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ backend
  - Gzip —Å–∂–∞—Ç–∏–µ
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

#### Backend
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Python, Flask, Rubber Band
- **–ü–æ—Ä—Ç**: 5230
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤
  - API –¥–ª—è –∑–∞–º–µ–¥–ª–µ–Ω–∏—è –∞—É–¥–∏–æ
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WAV –∏ MP3 —Ñ–æ—Ä–º–∞—Ç–æ–≤
  - Health check endpoint

### üîç Health Checks

–û–±–∞ —Å–µ—Ä–≤–∏—Å–∞ –∏–º–µ—é—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ health checks:

- **Frontend**: `GET /` (–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Nginx)
- **Backend**: `GET /health` (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

### üåê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### Backend
```env
FLASK_ENV=production
PYTHONUNBUFFERED=1
```

#### Frontend (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```env
NODE_ENV=production
```

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ Dockerfile              # Production frontend (React + Nginx)
‚îú‚îÄ‚îÄ nginx.conf              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îú‚îÄ‚îÄ docker-compose.yaml     # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ coolify.yaml           # –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Coolify
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile         # Backend (Python + Flask)
‚îÇ   ‚îú‚îÄ‚îÄ app.py            # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt   # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ src/                   # React –∏—Å—Ö–æ–¥–Ω–∏–∫–∏
```

### üöÄ –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

1. **–°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤**
   ```bash
   # Frontend: Multi-stage build (Node.js ‚Üí Nginx)
   # Backend: Python + —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   ```

2. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤**
   ```bash
   # Backend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º
   # Frontend –∂–¥–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ backend
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**
   ```bash
   # Health checks –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
   # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
   ```

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Nginx

- **Gzip —Å–∂–∞—Ç–∏–µ** –¥–ª—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ 1 –≥–æ–¥
- **–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** `/api/*` –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ backend
- **SPA –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –≤–µ–¥—É—Ç –∫ `index.html`
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞—â–∏—Ç—ã

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### –õ–æ–≥–∏
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ frontend
docker logs slowdown-frontend

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ backend
docker logs slowdown-backend
```

#### –ú–µ—Ç—Ä–∏–∫–∏
- Health check —Å—Ç–∞—Ç—É—Å –≤ Coolify dashboard
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞

### üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

#### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–±–æ—Ä–∫–æ–π
```bash
# –û—á–∏—Å—Ç–∫–∞ Docker –∫—ç—à–∞
docker system prune -a

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞
docker-compose build --no-cache
```

#### –ü—Ä–æ–±–ª–µ–º–∞ —Å package-lock.json
–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ `npm ci` —Å package-lock.json:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `npm install` –≤–º–µ—Å—Ç–æ `npm ci`
- package-lock.json –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ .dockerignore
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Dockerfile.production`

#### –ü—Ä–æ–±–ª–µ–º—ã —Å backend
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ health endpoint
curl http://localhost:5230/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Python
docker logs slowdown-backend -f
```

#### –ü—Ä–æ–±–ª–µ–º—ã —Å frontend
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
docker exec slowdown-frontend nginx -t

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
docker exec slowdown-frontend ls -la /usr/share/nginx/html
```

### üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
   - Coolify –º–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–∏ push

2. **–†—É—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
   ```bash
   # –í Coolify dashboard
   # –ù–∞–∂–∞—Ç—å "Redeploy" –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
   ```

### üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- **CPU**: 2+ cores
- **RAM**: 2GB+ (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤)
- **–î–∏—Å–∫**: 10GB+ (–¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Multi-stage Docker build –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤
- Nginx –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–∂–∞—Ç–∏–µ
- Python –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∞—É–¥–∏–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –±–µ–∑ root –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
- –ù–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤ –∫—Ä–æ–º–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è

### üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ health endpoints
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã —Å–µ—Ä–≤–µ—Ä–∞
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Coolify

---

**–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** üéâ

–ü—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫ Coolify –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π.
